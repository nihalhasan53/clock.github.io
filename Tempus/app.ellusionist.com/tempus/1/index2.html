<!doctype html>
<!--*************************************************************************
 * Tempus Copyright © 2018 Stratagem Solutions, For Ellusionist.com, Inc
 * 
 * ELLUSIONIST CONFIDENTIAL
 * __________________
 * 
 *  2018 Ellusionist.com, Inc 
 *  All Rights Reserved.
 * 
 * NOTICE: All information contained herein is, and remains
 * the property of Ellusionist.com, Inc and its suppliers,
 * if any. The intellectual and technical concepts contained
 * herein are proprietary to Ellusionist.com, Inc
 * and its suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * You are strictly prohibited to disseminate, reproduce, modify, reverse engineer, 
 * decompile, disassemble, copy, publish, rent, lend, lease or derive works 
 * from this software or circumvent any technical protection measures contained herein
 * unless prior written permission is obtained from Ellusionist.com, Inc.
 *-->
<html class="blackBackground" id="doc">

<head>
    <meta charset="UTF-8">
    <title>Clock</title>
    <link rel="manifest" href="./manifest.json" />
    <meta name="viewport" id="vp" content="user-scalable=no, width=device-width, height=device-height, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <meta NAME="Author" CONTENT="Stratagem Solutions Ltd, For Ellusionist.com, Inc">
    <meta name="format-detection" content="telephone=no">
    <link rel="apple-touch-icon" sizes="180x180" href="./180.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./120.png">
    <!-- <script src="./jquery-3.1.1.slim.min.js"></script> -->
    <script src="./jquery.mobile-1.4.5.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>


    <script type="application/javascript" src="./fastclick.js"></script>
    <link rel="stylesheet" href="./jquery.webui-popover.css">
    <script src="./UIPickerView2/contrib/hammerjs/hammer.min.js"></script>
    <script src="./UIPickerView2/contrib/hammerjs/hammer.fakemultitouch.js"></script>
    <link rel="stylesheet" href="./UIPickerView2/lib/drum.css">
    <script src="./UIPickerView2/lib/drum.min.js"></script>
    <script src="./stacks.js"></script>
    <script src="./lang.js"></script>
    <link id="pagestyle" rel="stylesheet" href="./cwstyle.css">
    <script src="./jquery.webui-popover.js"></script>
    <script src="./bdom.js"></script>

    <script type="text/javascript">
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js').then(() => {
                    console.log('Service Worker Registered')
                })
            })
        }
    </script>

</head>

<body style="background-color: white; backface-visibility: visible !important;" data-new-gr-c-s-check-loaded="14.1028.0" data-gr-ext-installed="">
	<div id="content">
	  <table id="optionsTable" align="center">
		<tbody>
		  <tr>
		  <td>Language </td>
		  <td><select id="language" class="needsclick">
			  <option value="0">English</option>
			  <option value="1">Français</option>
			  <option value="2">Deutsche</option>
			  <option value="3">Español</option>
			</select></td>
		</tr>
		<tr>
		  <td>Stack </td>
		  <td><select id="stack" class="needsclick">
			  <option value="0">Mnemonica</option>
			  <option value="1">Aronson</option>
			  <option value="2">Stebbins</option>
			  <option value="3">New Deck Order</option>
			  <option value="4">Eight Kings</option>
			  <option value="5">Number</option>
			</select></td>
		</tr>
		<tr>
		  <td>Force On Spin</td>
		  <td><input type="number" inputmode="numeric" pattern="[0-9]*" min="1" max="9" name="forceOnSpin" id="forceOnSpin" maxlength="1" value="3" title="Force On" style="width:30px; text-align:center; height:30px;"></td>
		</tr>
		<tr>
		  <td>Use Double Force</td>
		  <td><input type="checkbox" id="doubleForce" data-switchery="true" style="display: none;"><span class="switchery switchery-default" style="box-shadow: rgb(223, 223, 223) 0px 0px 0px 0px inset; border-color: rgb(223, 223, 223); background-color: rgb(255, 255, 255); transition: border 0.4s ease 0s, box-shadow 0.4s ease 0s;"><small style="left: 0px; transition: background-color 0.4s ease 0s, left 0.2s ease 0s;"></small></span></td>
		</tr>
		<tr>
		  <td>Second Force On Spin</td>
		  <td><input type="number" inputmode="numeric" pattern="[0-9]*" min="1" max="9" name="forceOnSpin2" id="forceOnSpin2" maxlength="1" value="3" title="Force On" style="width:30px; text-align:center; height:30px;"></td>
		</tr>
		<tr>
		  <td>Use Offset</td>
		  <td><input type="checkbox" id="useOffset" data-switchery="true" style="display: none;"><span class="switchery switchery-default" style="box-shadow: rgb(223, 223, 223) 0px 0px 0px 0px inset; border-color: rgb(223, 223, 223); background-color: rgb(255, 255, 255); transition: border 0.4s ease 0s, box-shadow 0.4s ease 0s;"><small style="left: 0px; transition: background-color 0.4s ease 0s, left 0.2s ease 0s;"></small></span></td>
		</tr>  
		<tr>
		  <td>Offset Type</td>
		  <td><select id="offsetType" class="needsclick">
			  <option value="0">Peek Top Card</option>
			  <option value="1">Peek Bottom Card</option>
			</select></td>
		</tr>  
		<tr>
		  <td>Remember Force on Quit</td>
		  <td><input type="checkbox" id="rememberForce" data-switchery="true" style="display: none;"><span class="switchery switchery-default" style="box-shadow: rgb(223, 223, 223) 0px 0px 0px 0px inset; border-color: rgb(223, 223, 223); background-color: rgb(255, 255, 255); transition: border 0.4s ease 0s, box-shadow 0.4s ease 0s;"><small style="left: 0px; transition: background-color 0.4s ease 0s, left 0.2s ease 0s;"></small></span></td>
		</tr>  
		
		<tr>
			<td>Version</td>
			<td>2.0.0</td>
		  </tr> 
		
		  <tr>
		</tr>
		  <tr>
			  <td colspan="2"><span style="color:red;">If the Timer wheels are rotating unusually slowly, ensure you've switched off Low Power/Battery Saver mode.<br>If you're unable to set the force value, hit Cancel on the Timer screen first.</span></td>
		</tr>
		<tr>
			<td colspan="2"><button type="button" id="btnCloseOptions" onclick="btnCloseOptionsClickHandler()" style="width:60%">Close Options</button></td>
		  </tr>
	  </tbody></table>
	</div>
	<script>
	
	

	function initialise()
	{
		if ('addEventListener' in document) {
			document.addEventListener('DOMContentLoaded', function() {"use strict";
				FastClick.attach(document.body);
			}, false);
		}
	
		ForceOnSpin = JSON.parse(localStorage.getItem("Tempus-ForceOnSpin"));
		ForceOnSpin2 = JSON.parse(localStorage.getItem("Tempus-ForceOnSpin2"));
		
		document.getElementById('stack').value = UseStackType;
		document.getElementById('language').value = Language;
		document.getElementById("forceOnSpin").value = ForceOnSpin
		document.getElementById("forceOnSpin2").value = ForceOnSpin2
		// if(DoubleForce){
		// 	doubleforceswitchbase.checked = true;
		// 	doubleforceswitch.handleOnchange(true);
		// }
		// if(UseOffset){
		// 	useoffsetswitchbase.checked = true;
		// 	useoffsetswitch.handleOnchange(true);
		// }
		// if(RememberForce){
		// 	rememberforceswitchbase.checked = true;
		// 	rememberforceswitch.handleOnchange(true);
		// }
	}
		initialise();
		document.getElementById("forceOnSpin").oninput = function () {
		if (this.value.length > 1) {
			this.value = this.value.slice(0,1);
		}
		localStorage.setItem("Tempus-ForceOnSpin", JSON.stringify(parseInt(this.value)));	
	}
		document.getElementById("forceOnSpin2").oninput = function () {
		if (this.value.length > 1) {
			this.value = this.value.slice(0,1);
		}
		localStorage.setItem("Tempus-ForceOnSpin2", JSON.stringify(parseInt(this.value)));	
	}
		
		if(Licenced){
			document.getElementById("LicenceKey").disabled = true;
			document.getElementById("LicenceKey").value = "Licensed";
			document.getElementById("submitLicense").disabled = true;
			document.getElementById("optionsTable").deleteRow(0);
			document.getElementById("optionsTable").deleteRow(0);
		}
		
		
	</script>
	
	
	</body>
</html>